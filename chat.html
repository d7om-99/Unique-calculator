<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø´Ø§Øª Ø°ÙƒÙŠ Ù…Ø³ØªÙ‚Ù„ - Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø§Ù„ÙŠ ÙˆØ¥Ø¯Ø§Ø±ÙŠ</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
    direction: rtl;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }
  header {
    background: #009688;
    padding: 15px;
    font-size: 1.6rem;
    text-align: center;
    font-weight: bold;
    flex-shrink: 0;
  }
  #chatContainer {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 10px;
    overflow: hidden;
  }
  #chatDisplay {
    flex: 1;
    overflow-y: auto;
    background: #1e1e1e;
    border-radius: 12px;
    padding: 15px;
    box-sizing: border-box;
    margin-bottom: 10px;
    scrollbar-width: thin;
  }
  .chat-msg {
    max-width: 80%;
    margin-bottom: 12px;
    padding: 12px 15px;
    border-radius: 20px;
    word-wrap: break-word;
    white-space: pre-wrap;
    line-height: 1.4;
    font-size: 1.1rem;
  }
  .chat-msg.user {
    background: #00796b;
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
  }
  .chat-msg.bot {
    background: #00bfa5;
    color: black;
    align-self: flex-start;
    border-bottom-left-radius: 4px;
  }
  #chatInputArea {
    display: flex;
    flex-shrink: 0;
  }
  #chatInputArea input {
    flex: 1;
    padding: 12px 15px;
    font-size: 1.2rem;
    border-radius: 12px;
    border: none;
    outline: none;
    background: #333;
    color: #eee;
    box-sizing: border-box;
  }
  #chatInputArea button {
    background: #00bfa5;
    border: none;
    padding: 12px 25px;
    margin-right: 10px;
    border-radius: 12px;
    font-weight: bold;
    cursor: pointer;
    color: #000;
    font-size: 1.1rem;
    transition: background 0.3s ease;
  }
  #chatInputArea button:hover {
    background: #008f7a;
  }
  @media (max-width: 600px) {
    #chatInputArea input {
      font-size: 1rem;
    }
    #chatInputArea button {
      padding: 12px 15px;
      font-size: 1rem;
    }
  }
</style>
</head>
<body>

<header>ðŸ¤– Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…Ø³ØªÙ‚Ù„</header>

<div id="chatContainer">
  <div id="chatDisplay"></div>
  <div id="chatInputArea">
    <input type="text" id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ù…Ø´ÙƒÙ„ØªÙƒ Ø£Ùˆ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§..." autocomplete="off" />
    <button id="sendBtn">Ø¥Ø±Ø³Ø§Ù„</button>
  </div>
</div>

<script>
  // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©: Ø£Ø³Ø¦Ù„Ø© Ù…ÙØªØ§Ø­ÙŠØ© Ùˆ Ø±Ø¯ÙˆØ¯ ØªÙØµÙŠÙ„ÙŠØ©
  const knowledgeBase = [
    {
      tags: ['Ø¯Ø®Ù„', 'Ø±Ø§ØªØ¨', 'Ø±Ø§ØªØ¨ÙŠ', 'Ù…ØµØ±ÙˆÙ', 'Ù…ØµØ§Ø±ÙŠÙ', 'Ù…ÙŠØ²Ø§Ù†ÙŠØ©', 'Ù…Ø§Ù„', 'ØªÙˆÙÙŠØ±'],
      keywords: ['Ø¯Ø®Ù„', 'Ø±Ø§ØªØ¨', 'Ù…ØµØ±ÙˆÙ', 'Ù…ÙŠØ²Ø§Ù†ÙŠØ©', 'ØªÙˆÙÙŠØ±', 'Ø§Ø¯Ø®Ø§Ø±', 'Ù…ØµØ§Ø±ÙŠÙ', 'Ù†ÙÙ‚Ø§Øª'],
      responses: [
        `Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¯Ø®Ù„Ùƒ Ø£Ù‚Ù„ Ù…Ù† Ù…ØµØ§Ø±ÙŠÙÙƒØŒ ÙŠØ¬Ø¨ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù†ÙÙ‚Ø§Øª Ø£Ùˆ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¯Ø®Ù„.\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ù†ØµØ§Ø¦Ø­ Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙØŸ`,
        `Ø§Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø¨Ø§Ù†ØªØ¸Ø§Ù… ØªØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ Ø¶Ø¨Ø· Ù…ØµØ§Ø±ÙŠÙÙƒ ÙˆØªØ­Ù‚ÙŠÙ‚ Ø£Ù‡Ø¯Ø§ÙÙƒ Ø§Ù„Ù…Ø§Ù„ÙŠØ©.`,
        `Ù‡Ù„ ØªÙˆØ§Ø¬Ù‡ ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ø§Ø¯Ø®Ø§Ø±ØŸ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø¨Ø®Ø·Ø· Ø§Ø¯Ø®Ø§Ø± ÙØ¹Ø§Ù„Ø©.`,
      ],
      followUp: ['Ù‡Ù„ ØªØ±ØºØ¨ Ø¨Ù†ØµØ§Ø¦Ø­ Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø§Ù„ØŸ', 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø®Ø·Ø© Ø§Ø¯Ø®Ø§Ø± Ù…Ø®ØµØµØ©ØŸ'],
      context: null
    },
    {
      tags: ['Ø¯ÙŠÙˆÙ†', 'Ø¯ÙŠÙ†', 'Ù‚Ø±Ø¶', 'Ø£Ù‚Ø³Ø§Ø·', 'Ø³Ø¯Ø§Ø¯', 'Ù…Ø¯ÙŠÙˆÙ†ÙŠØ©'],
      keywords: ['Ø¯ÙŠÙˆÙ†', 'Ø¯ÙŠÙ†', 'Ù‚Ø±Ø¶', 'Ø£Ù‚Ø³Ø§Ø·', 'Ø³Ø¯Ø§Ø¯'],
      responses: [
        `Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø¨Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ† ÙŠÙ‚Ù„Ù„ Ù…Ù† Ø§Ù„Ø¶ØºÙˆØ· Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ.`,
        `Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø®Ø·Ø© Ù„Ø³Ø¯Ø§Ø¯ Ø¯ÙŠÙˆÙ†Ùƒ Ø¨Ø´ÙƒÙ„ Ù…Ù†ØªØ¸Ù…ØŸ`,
        `ØªØ¬Ù†Ø¨ Ø§Ù„Ø¯ÙŠÙˆÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø­ØªÙ‰ ØªØ³Ø¯Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„ØªØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ù…Ø§Ù„ÙŠ.`,
      ],
      followUp: ['Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø§Ø¹Ø¯ØªÙŠ ÙÙŠ ÙˆØ¶Ø¹ Ø®Ø·Ø© Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø¯ÙŠÙˆÙ†ØŸ', 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ù†ØµØ§Ø¦Ø­ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø¯ÙŠÙˆÙ†ØŸ'],
      context: null
    },
    {
      tags: ['Ø§Ø³ØªØ«Ù…Ø§Ø±', 'Ø¨ÙˆØ±ØµØ©', 'Ø£Ø³Ù‡Ù…', 'Ø¹Ù‚Ø§Ø±Ø§Øª', 'Ø±Ø¨Ø­', 'Ø®Ø³Ø§Ø±Ø©', 'Ø³ÙˆÙ‚', 'ØªØ¯Ø§ÙˆÙ„'],
      keywords: ['Ø§Ø³ØªØ«Ù…Ø§Ø±', 'Ø¨ÙˆØ±ØµØ©', 'Ø£Ø³Ù‡Ù…', 'Ø¹Ù‚Ø§Ø±Ø§Øª', 'Ø±Ø¨Ø­', 'Ø®Ø³Ø§Ø±Ø©', 'ØªØ¯Ø§ÙˆÙ„'],
      responses: [
        `Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø¹Ø±ÙØ© Ø¬ÙŠØ¯Ø© Ø¨Ø§Ù„Ø³ÙˆÙ‚ ÙˆØ§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©.`,
        `Ù‡Ù„ ØªÙØ¶Ù„ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø·ÙˆÙŠÙ„ Ø§Ù„Ø£Ù…Ø¯ Ø£Ù… Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ØŸ`,
        `ØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª ÙŠÙ‚Ù„Ù„ Ù…Ù† Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆÙŠØ²ÙŠØ¯ Ù…Ù† ÙØ±Øµ Ø§Ù„Ø±Ø¨Ø­.`,
      ],
      followUp: ['Ù‡Ù„ ØªØ±ØºØ¨ ÙÙŠ Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ØŸ', 'Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø´Ø±Ø­ Ø¹Ù† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§ØªØŸ'],
      context: null
    },
    {
      tags: ['ÙˆØ¸ÙŠÙØ©', 'Ø¹Ù…Ù„', 'ØªØ±Ù‚ÙŠØ©', 'ØªØ·ÙˆÙŠØ±', 'ØªØºÙŠÙŠØ± ÙˆØ¸ÙŠÙØ©', 'Ø±Ø§ØªØ¨'],
      keywords: ['ÙˆØ¸ÙŠÙØ©', 'Ø¹Ù…Ù„', 'ØªØ±Ù‚ÙŠØ©', 'ØªØ·ÙˆÙŠØ±', 'ØªØºÙŠÙŠØ±', 'Ø±Ø§ØªØ¨'],
      responses: [
        `ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ù‡Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙØ±Øµ Ø¹Ù…Ù„ Ø£ÙØ¶Ù„ Ø£Ùˆ ØªØ±Ù‚ÙŠØ©.`,
        `Ù‡Ù„ ØªÙÙƒØ± ÙÙŠ ØªØºÙŠÙŠØ± Ù…Ø¬Ø§Ù„Ùƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠØŸ`,
        `Ù‡Ù„ ØªÙˆØ§Ø¬Ù‡ ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø¥ÙŠØ¬Ø§Ø¯ ÙˆØ¸ÙŠÙØ© Ù…Ù†Ø§Ø³Ø¨Ø©ØŸ`,
      ],
      followUp: ['Ù‡Ù„ ØªØ±ÙŠØ¯ Ù†ØµØ§Ø¦Ø­ Ù„ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø§ØªÙƒØŸ', 'Ù‡Ù„ ØªØ±ØºØ¨ ÙÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙŠ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙˆØ¸ÙŠÙØ©ØŸ'],
      context: null
    },
    {
      tags: ['Ù…Ø´Ø§Ø±ÙŠØ¹', 'Ø±ÙŠØ§Ø¯Ø©', 'ØªØ³ÙˆÙŠÙ‚', 'Ø¹Ù…Ù„ Ø­Ø±', 'ØªØ¬Ø§Ø±Ø©', 'Ù…Ø¨ÙŠØ¹Ø§Øª'],
      keywords: ['Ù…Ø´Ø§Ø±ÙŠØ¹', 'Ø±ÙŠØ§Ø¯Ø©', 'ØªØ³ÙˆÙŠÙ‚', 'ØªØ¬Ø§Ø±Ø©', 'Ø¹Ù…Ù„ Ø­Ø±', 'Ù…Ø¨ÙŠØ¹Ø§Øª'],
      responses: [
        `Ø§Ù„Ù†Ø¬Ø§Ø­ ÙÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙŠØ­ØªØ§Ø¬ ØªØ®Ø·ÙŠØ· Ø¬ÙŠØ¯ ÙˆÙÙ‡Ù… Ø§Ù„Ø³ÙˆÙ‚.`,
        `Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ÙÙƒØ±Ø© Ù…Ø´Ø±ÙˆØ¹ ØªØ­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ ØªØ·ÙˆÙŠØ±Ù‡Ø§ØŸ`,
        `Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø¬ÙŠØ¯ ÙŠØ²ÙŠØ¯ Ù…Ù† ÙØ±Øµ Ù†Ø¬Ø§Ø­ Ù…Ø´Ø±ÙˆØ¹Ùƒ.`,
      ],
      followUp: ['Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ù†ØµØ§Ø¦Ø­ Ù„ØªØ³ÙˆÙŠÙ‚ Ù…Ø´Ø±ÙˆØ¹ÙƒØŸ', 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø®Ø·Ø© Ø¹Ù…Ù„ Ù…ÙØµÙ„Ø©ØŸ'],
      context: null
    }
  ];

  // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  let conversationContext = null;

  // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø´Ø§Øª
  function addChatMessage(text, sender) {
    const chatDisplay = document.getElementById('chatDisplay');
    const div = document.createElement('div');
    div.classList.add('chat-msg', sender);
    div.textContent = text;
    chatDisplay.appendChild(div);
    chatDisplay.scrollTop = chatDisplay.scrollHeight;
  }

  // ØªØ­Ù„ÙŠÙ„ Ù†Øµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø±Ø¯ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
  function analyzeInput(text) {
    text = text.toLowerCase();

    // Ø¥Ø°Ø§ ÙÙŠ Ø³ÙŠØ§Ù‚ Ù…Ø­Ø¯Ø¯ Ù†ØªØ§Ø¨Ø¹
    if (conversationContext && conversationContext.expectingFollowUp) {
      // Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ù†Ø¹Ù…/Ù„Ø§ Ø£Ùˆ Ù†Øµ
      if (/^(Ù†Ø¹Ù…|Ø£ÙƒÙŠØ¯|Ø§ÙŠÙˆÙ‡|ØµØ­|ØµØ­ÛŒØ­|Ù…ÙˆØ§ÙÙ‚|ØªÙ…Ø§Ù…|Ø¨Ø§Ù„Ø·Ø¨Ø¹)$/.test(text)) {
        addChatMessage("Ø±Ø§Ø¦Ø¹! Ø³Ø£Ø±Ø³Ù„ Ù„Ùƒ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹.", 'bot');
        conversationContext.expectingFollowUp = false;
        conversationContext = null;
        return;
      } else if (/^(Ù„Ø§|Ù…Ùˆ|Ù…Ø§|Ù„ÙŠØ³|ØºÙŠØ± Ù…ÙˆØ§ÙÙ‚|Ù„Ø§ Ø§Ø±ÙŠØ¯)$/.test(text)) {
        addChatMessage("Ø­Ø³Ù†Ù‹Ø§ØŒ Ø¥Ø°Ø§ Ø§Ø­ØªØ¬Øª Ø£ÙŠ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø£Ø®Ø±Ù‰ ÙÙ‚Ø· Ø§ÙƒØªØ¨ Ù„ÙŠ.", 'bot');
        conversationContext.expectingFollowUp = false;
        conversationContext = null;
        return;
      } else {
        addChatMessage("ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø±Ø¯ Ø¨Ù€ Ù†Ø¹Ù… Ø£Ùˆ Ù„Ø§ Ù…Ù† ÙØ¶Ù„Ùƒ.", 'bot');
        return;
      }
    }

    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØªØ·Ø§Ø¨Ù‚ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©
    for (const entry of knowledgeBase) {
      for (const tag of entry.tags) {
        if (text.includes(tag)) {
          // Ø§Ù„Ø±Ø¯ Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ù…ØªØ§Ø­Ø©
          const response = entry.responses[Math.floor(Math.random() * entry.responses.length)];
          addChatMessage(response, 'bot');
          // Ø¶Ø¨Ø· Ø§Ù„Ø³ÙŠØ§Ù‚ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©
          conversationContext = {...entry, expectingFollowUp:true};
          return;
        }
      }
    }

    // Ù„Ùˆ Ù…Ø§ ÙˆØ¬Ø¯Ù†Ø§ Ø´ÙŠØ¡ Ù‚Ø±ÙŠØ¨
    addChatMessage("Ø¢Ø³ÙØŒ Ù„Ù… Ø£ÙÙ‡Ù… Ø³Ø¤Ø§Ù„Ùƒ Ø¬ÙŠØ¯Ù‹Ø§. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© ØµÙŠØ§ØºØªÙ‡ Ø£Ùˆ ØªÙˆØ¶ÙŠØ­Ù‡ØŸ", 'bot');
  }

  // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  function sendChat() {
    const input = document.getElementById('chatInput');
    const text = input.value.trim();
    if (!text) return;
    addChatMessage(text, 'user');
    input.value = '';
    setTimeout(() => analyzeInput(text), 400);
  }

  // Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø­Ø¯Ø« Ø§Ù†ØªØ± Ù„Ù„Ø¥Ø±Ø³Ø§Ù„
  document.getElementById('chatInput').addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      sendChat();
    }
  });

  document.getElementById('sendBtn').addEventListener('click', sendChat);

  // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
  addChatMessage("Ù…Ø±Ø­Ø¨Ù‹Ø§! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù…Ø³ØªÙ‚Ù„ØŒ Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø³Ø¤Ø§Ù„ Ù…Ø§Ù„ÙŠ Ø£Ùˆ Ø¥Ø¯Ø§Ø±ÙŠ Ø£Ùˆ Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠ.", 'bot');

</script>

</body>
</html>
