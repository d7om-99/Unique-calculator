<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ - Ø­Ø§Ø³Ø¨Ø§Øª ÙˆØ´Ø§Øª</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
    direction: rtl;
  }
  header {
    background: #009688;
    padding: 15px;
    font-size: 1.6rem;
    text-align: center;
    font-weight: bold;
  }
  #main {
    display: flex;
    height: calc(100vh - 60px);
  }
  #sidebar {
    width: 260px;
    background: #222;
    padding: 15px;
    box-sizing: border-box;
    border-left: 3px solid #00bfa5;
  }
  #sidebar h2 {
    text-align: center;
    margin-bottom: 20px;
  }
  #sidebar button {
    width: 100%;
    margin: 10px 0;
    padding: 12px;
    font-weight: bold;
    font-size: 1.1rem;
    border: none;
    border-radius: 10px;
    background: #00bfa5;
    color: #000;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #sidebar button:hover {
    background: #008f7a;
  }
  #content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    background: #222;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
  }
  #calculator, #chatbox {
    flex: 1;
    display: none;
    flex-direction: column;
  }
  #calculator.active, #chatbox.active {
    display: flex;
  }
  #calcTitle {
    font-size: 1.4rem;
    font-weight: bold;
    margin-bottom: 15px;
    text-align: center;
  }
  #calcForm label {
    display: block;
    margin: 12px 0 6px;
  }
  #calcForm input, #calcForm select {
    width: 100%;
    padding: 8px;
    border-radius: 6px;
    border: none;
    font-size: 1rem;
    box-sizing: border-box;
  }
  #calcForm button {
    margin-top: 15px;
    padding: 12px;
    font-weight: bold;
    font-size: 1.1rem;
    border: none;
    border-radius: 10px;
    background: #00bfa5;
    color: #000;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #calcForm button:hover {
    background: #008f7a;
  }
  #calcResult {
    margin-top: 20px;
    background: #333;
    padding: 15px;
    border-radius: 10px;
    white-space: pre-line;
  }

  /* Ø´Ø§Øª */
  #chatDisplay {
    flex: 1;
    background: #111;
    padding: 15px;
    border-radius: 10px;
    overflow-y: auto;
    margin-bottom: 10px;
  }
  .chat-msg {
    margin-bottom: 12px;
    max-width: 80%;
    padding: 12px 15px;
    border-radius: 15px;
    word-wrap: break-word;
  }
  .chat-msg.user {
    background: #00796b;
    color: white;
    align-self: flex-end;
  }
  .chat-msg.bot {
    background: #00bfa5;
    color: black;
    align-self: flex-start;
  }
  #chatInputArea {
    display: flex;
  }
  #chatInputArea input {
    flex: 1;
    padding: 10px;
    font-size: 1rem;
    border-radius: 8px;
    border: none;
    outline: none;
    background: #333;
    color: #eee;
  }
  #chatInputArea button {
    background: #00bfa5;
    border: none;
    padding: 10px 20px;
    margin-right: 10px;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    color: #000;
    transition: background 0.3s ease;
  }
  #chatInputArea button:hover {
    background: #008f7a;
  }
</style>
</head>
<body>

<header>ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ - Ø­Ø§Ø³Ø¨Ø§Øª ÙˆØ´Ø§Øª</header>

<div id="main">
  <nav id="sidebar">
    <h2>Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h2>
    <button onclick="showCalculator('Ù…Ø§Ù„ÙŠØ©')">ğŸ’° Ø­Ø§Ø³Ø¨Ø© Ù…Ø§Ù„ÙŠØ©</button>
    <button onclick="showCalculator('ÙˆØ¸ÙŠÙØ©')">ğŸ’¼ Ø­Ø§Ø³Ø¨Ø© ÙˆØ¸ÙŠÙØ©</button>
    <button onclick="showCalculator('Ù…Ø´Ø§Ø±ÙŠØ¹')">ğŸ“ˆ Ø­Ø§Ø³Ø¨Ø© Ù…Ø´Ø§Ø±ÙŠØ¹</button>
    <button onclick="showCalculator('Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„')">ğŸ“Š Ø­Ø§Ø³Ø¨Ø© Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„</button>
    <button onclick="showCalculator('ØªÙˆÙÙŠØ±')">ğŸ’¡ Ø­Ø§Ø³Ø¨Ø© ØªÙˆÙÙŠØ±</button>
    <button onclick="showCalculator('Ø§Ø³ØªØ«Ù…Ø§Ø±')">ğŸ“‰ Ø­Ø§Ø³Ø¨Ø© Ø§Ø³ØªØ«Ù…Ø§Ø±</button>
    <button onclick="showChat()">ğŸ’¬ Ø´Ø§Øª Ø°ÙƒÙŠ</button>
  </nav>

  <section id="content">

    <!-- Ø§Ù„Ø­Ø§Ø³Ø¨Ø© -->
    <div id="calculator">
      <div id="calcTitle"></div>
      <form id="calcForm">
        <!-- Ø§Ù„Ø­Ù‚ÙˆÙ„ ØªØªØºÙŠØ± Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
      </form>
      <div id="calcResult"></div>
    </div>

    <!-- Ø§Ù„Ø´Ø§Øª -->
    <div id="chatbox">
      <div id="chatDisplay"></div>
      <div id="chatInputArea">
        <input type="text" id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ù…Ø´ÙƒÙ„ØªÙƒ Ù‡Ù†Ø§..." autocomplete="off" />
        <button onclick="sendChatMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
      </div>
    </div>

  </section>
</div>

<script>
  // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª (Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆÙ†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬)
  const calculators = {
    "Ù…Ø§Ù„ÙŠØ©": {
      title: "Ø­Ø§Ø³Ø¨Ø© Ù…Ø§Ù„ÙŠØ©",
      fields: [
        {label: "Ø¯Ø®Ù„Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ (Ø±ÙŠØ§Ù„)", id: "income", type: "number", min:0, placeholder:"Ù…Ø«Ø§Ù„: 5000"},
        {label: "Ù…ØµØ§Ø±ÙŠÙÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© (Ø±ÙŠØ§Ù„)", id: "expenses", type: "number", min:0, placeholder:"Ù…Ø«Ø§Ù„: 3000"},
        {label: "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø¯ÙŠÙˆÙ†ØŸ", id: "debts", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ­Ø§ÙˆÙ„ Ø§Ù„Ø§Ø¯Ø®Ø§Ø±ØŸ", id: "saving", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]}
      ],
      calculate: function(values) {
        const income = Number(values.income);
        const expenses = Number(values.expenses);
        const debts = values.debts;
        const saving = values.saving;

        let result = "";
        if (income <= 0) return "Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø¯Ø®Ù„ Ø¯Ø®Ù„Ø§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹ Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±.";

        const balance = income - expenses;
        result += `Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ: ${balance} Ø±ÙŠØ§Ù„\n`;

        if(balance < 0) result += "Ø£Ù†Øª ØªØ¹ÙŠØ´ Ø¹Ù„Ù‰ Ø¯ÙŠÙˆÙ† Ø£Ùˆ Ù…Ø¯ÙŠÙ†. Ø­Ø§ÙˆÙ„ ØªØ®ÙÙŠØ¶ Ù…ØµØ§Ø±ÙŠÙÙƒ.\n";
        else if(balance === 0) result += "Ø£Ù†Øª ØªØ¹ÙŠØ´ Ø¹Ù„Ù‰ Ø­Ø¯ÙˆØ¯ Ø¯Ø®Ù„ÙƒØŒ Ø­Ø§ÙˆÙ„ Ø§Ù„Ø§Ø¯Ø®Ø§Ø± ÙˆÙ„Ùˆ Ø¨Ø§Ù„Ù‚Ù„ÙŠÙ„.\n";
        else result += "ÙˆØ¶Ø¹Ùƒ Ø§Ù„Ù…Ø§Ù„ÙŠ Ø¬ÙŠØ¯ØŒ Ù„Ø¯ÙŠÙƒ ÙØ§Ø¦Ø¶ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¯Ø®Ø§Ø±Ù‡ Ø£Ùˆ Ø§Ø³ØªØ«Ù…Ø§Ø±Ù‡.\n";

        if(debts === "Ù†Ø¹Ù…") result += "Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø³Ø¯Ø§Ø¯ Ø¯ÙŠÙˆÙ†Ùƒ Ø¨Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.\n";
        if(saving === "Ù„Ø§") result += "Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ø¯Ø®Ø§Ø± Ø¬Ø²Ø¡ Ù…Ù† Ø¯Ø®Ù„Ùƒ Ù…Ù‡Ù…Ø§ ÙƒØ§Ù† Ø¨Ø³ÙŠØ·Ø§Ù‹.\n";

        return result;
      }
    },
    "ÙˆØ¸ÙŠÙØ©": {
      title: "Ø­Ø§Ø³Ø¨Ø© ÙˆØ¸ÙŠÙØ©",
      fields: [
        {label: "Ù‡Ù„ Ø£Ù†Øª Ø±Ø§Ø¶Ù Ø¹Ù† ÙˆØ¸ÙŠÙØªÙƒØŸ", id: "satisfied", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ¨Ø­Ø« Ø¹Ù† Ø¹Ù…Ù„ Ø¬Ø¯ÙŠØ¯ØŸ", id: "looking", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ù…Ù‡Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© ØªØ±ØºØ¨ Ø¨ØªØ¹Ù„Ù…Ù‡Ø§ØŸ", id: "skills", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªÙÙƒØ± ÙÙŠ ØªØºÙŠÙŠØ± Ù…Ø¬Ø§Ù„ÙƒØŸ", id: "changeField", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]}
      ],
      calculate: function(values) {
        let advice = "";
        if(values.satisfied === "Ù„Ø§" && values.looking === "Ù†Ø¹Ù…") advice += "Ø§Ø¨Ø¯Ø£ Ø¨ØªØ­Ø¯ÙŠØ« Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ø°Ø§ØªÙŠØ© ÙˆØ§Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ø¹Ù…Ù„ Ø¬Ø¯ÙŠØ¯Ø©.\n";
        if(values.skills === "Ù†Ø¹Ù…") advice += "Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø± ÙŠØ²ÙŠØ¯ ÙØ±ØµÙƒ Ù„Ù„ØªØ±Ù‚ÙŠØ© Ø£Ùˆ Ø¹Ù…Ù„ Ø£ÙØ¶Ù„.\n";
        if(values.changeField === "Ù†Ø¹Ù…") advice += "ÙÙƒØ± Ø¬ÙŠØ¯Ø§ Ù‚Ø¨Ù„ ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¬Ø§Ù„ØŒ ÙˆØ§Ø³ØªØ¹Ø¯ Ù„ØªØ¹Ù„Ù… Ù…Ù‡Ø§Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©.\n";
        if(advice === "") advice = "Ø§Ø³ØªÙ…Ø± ÙÙŠ ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø§ØªÙƒ ÙˆØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¦Ùƒ ÙÙŠ Ø¹Ù…Ù„Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ.";
        return advice;
      }
    },
    "Ù…Ø´Ø§Ø±ÙŠØ¹": {
      title: "Ø­Ø§Ø³Ø¨Ø© Ù…Ø´Ø§Ø±ÙŠØ¹",
      fields: [
        {label: "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ÙÙƒØ±Ø© Ù…Ø´Ø±ÙˆØ¹ØŸ", id: "idea", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ ØªØ³Ù…Ø­ Ø¨Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ØŸ", id: "budget", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ¹Ø±Ù ÙƒÙŠÙ ØªØ³ÙˆÙ‚ Ù„Ù…Ù†ØªØ¬ÙƒØŸ", id: "marketing", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø´Ø±ÙƒØ§Ø¡ØŸ", id: "partners", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]}
      ],
      calculate: function(values) {
        let advice = "";
        if(values.idea === "Ù„Ø§") advice += "Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØ¹Ù„Ù… Ø¹Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ.\n";
        if(values.budget === "Ù„Ø§") advice += "Ø­Ø§ÙˆÙ„ ØªÙˆÙÙŠØ± Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø£Ùˆ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø´Ø±ÙƒØ§Ø¡.\n";
        if(values.marketing === "Ù„Ø§") advice += "Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ù…ÙØªØ§Ø­ Ù†Ø¬Ø§Ø­ Ù…Ø´Ø±ÙˆØ¹ÙƒØŒ ÙÙƒØ± ÙÙŠ Ø·Ø±Ù‚ Ø§Ù„ØªØ³ÙˆÙŠÙ‚.\n";
        if(values.partners === "Ù„Ø§") advice += "ÙÙƒØ± ÙÙŠ Ø´Ø±ÙƒØ§Ø¡ Ù…ÙˆØ«ÙˆÙ‚ÙŠÙ† Ù„ØªØ´Ø§Ø±Ùƒ Ù…Ø¹Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ù….\n";
        if(advice === "") advice = "Ø£Ù†Øª Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµØ­ÙŠØ­ØŒ Ø§Ø³ØªÙ…Ø± Ø¨Ø§Ù„ØªØ®Ø·ÙŠØ· ÙˆØ§Ù„ØªÙ†ÙÙŠØ°.";
        return advice;
      }
    },
    "Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„": {
      title: "Ø­Ø§Ø³Ø¨Ø© Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„",
      fields: [
        {label: "Ù‡Ù„ ØªØ¯ÙŠØ± ÙØ±ÙŠÙ‚ Ø¹Ù…Ù„ØŸ", id: "manageTeam", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª Ø¥Ø¯Ø§Ø±Ø©ØŸ", id: "tools", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªÙ‚ÙˆÙ… Ø¨ØªÙ‚ÙŠÙŠÙ… Ø¯ÙˆØ±ÙŠØŸ", id: "evaluate", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ®Ø·Ø· Ù„Ø£Ù‡Ø¯Ø§ÙØŸ", id: "planning", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]}
      ],
      calculate: function(values) {
        let advice = "";
        if(values.manageTeam === "Ù„Ø§") advice += "ØªØ¹Ù„Ù… Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø­ØªÙ‰ Ù„Ùˆ ØªØ¹Ù…Ù„ ÙØ±Ø¯ÙŠØ§Ù‹.\n";
        if(values.tools === "Ù„Ø§") advice += "Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª ØªÙ†Ø¸ÙŠÙ…ÙŠØ© Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©.\n";
        if(values.evaluate === "Ù„Ø§") advice += "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø³ØªÙ…Ø± ÙŠØ³Ø§Ø¹Ø¯ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡.\n";
        if(values.planning === "Ù„Ø§") advice += "Ø­Ø¯Ø¯ Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ø¶Ø­Ø© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù†Ø¬Ø§Ø­.\n";
        if(advice === "") advice = "Ø¥Ø¯Ø§Ø±ØªÙƒ Ø¬ÙŠØ¯Ø©ØŒ ÙˆØ§ØµÙ„ ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©.";
        return advice;
      }
    },
    "ØªÙˆÙÙŠØ±": {
      title: "Ø­Ø§Ø³Ø¨Ø© ØªÙˆÙÙŠØ±",
      fields: [
        {label: "Ù‡Ù„ ØªØ±Ø§Ù‚Ø¨ Ù†ÙÙ‚Ø§ØªÙƒØŸ", id: "monitor", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ³ØªØ®Ø¯Ù… Ù‚Ø§Ø¦Ù…Ø© ØªØ³ÙˆÙ‚ØŸ", id: "list", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ³ØªÙÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ø±ÙˆØ¶ØŸ", id: "discounts", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªÙ‚Ù„Ù„ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§ÙƒØŸ", id: "reduce", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]}
      ],
      calculate: function(values) {
        let advice = "";
        if(values.monitor === "Ù„Ø§") advice += "Ø§Ø¨Ø¯Ø£ Ø¨ØªØ³Ø¬ÙŠÙ„ Ù†ÙÙ‚Ø§ØªÙƒ Ù„Ù…Ø¹Ø±ÙØ© Ù…ØµØ§Ø±ÙŠÙÙƒ.\n";
        if(values.list === "Ù„Ø§") advice += "Ø§Ø³ØªØ®Ø¯Ù… Ù‚Ø§Ø¦Ù…Ø© ØªØ³ÙˆÙ‚ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ.\n";
        if(values.discounts === "Ù„Ø§") advice += "Ø§Ø³ØªÙØ¯ Ù…Ù† Ø§Ù„Ø¹Ø±ÙˆØ¶ Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø§Ù„.\n";
        if(values.reduce === "Ù„Ø§") advice += "Ù‚Ù„Ù„ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ.\n";
        if(advice === "") advice = "Ø¹Ø§Ø¯Ø§ØªÙƒ Ù…Ù…ØªØ§Ø²Ø©ØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙˆÙÙŠØ±.";
        return advice;
      }
    },
    "Ø§Ø³ØªØ«Ù…Ø§Ø±": {
      title: "Ø­Ø§Ø³Ø¨Ø© Ø§Ø³ØªØ«Ù…Ø§Ø±",
      fields: [
        {label: "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø®Ø¨Ø±Ø© ÙÙŠ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ØŸ", id: "experience", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØ¹Ø±Ù Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„ØªÙŠ ØªØªØ­Ù…Ù„Ù‡Ø§ØŸ", id: "risk", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªÙ†ÙˆØ¹ Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§ØªÙƒØŸ", id: "diversify", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]},
        {label: "Ù‡Ù„ ØªØªØ§Ø¨Ø¹ Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ØŸ", id: "news", type: "select", options:["Ù†Ø¹Ù…","Ù„Ø§"]}
      ],
      calculate: function(values) {
        let advice = "";
        if(values.experience === "Ù„Ø§") advice += "Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„ØªØ¹Ù„Ù… Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±.\n";
        if(values.risk === "Ù„Ø§") advice += "ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ù„ØªØ¬Ù†Ø¨ Ø®Ø³Ø§Ø¦Ø±.\n";
        if(values.diversify === "Ù„Ø§") advice += "Ù†ÙˆØ¹ Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§ØªÙƒ Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø§Ø·Ø±.\n";
        if(values.news === "Ù„Ø§") advice += "ØªØ§Ø¨Ø¹ Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ù„Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ø£ÙØ¶Ù„.\n";
        if(advice === "") advice = "Ø£Ù†Øª Ù…Ø³ØªØ«Ù…Ø± Ø­ÙƒÙŠÙ…ØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ±.";
        return advice;
      }
    }
  };

  const sidebarButtons = document.querySelectorAll('#sidebar button');
  const calculator = document.getElementById('calculator');
  const calcTitle = document.getElementById('calcTitle');
  const calcForm = document.getElementById('calcForm');
  const calcResult = document.getElementById('calcResult');
  const chatbox = document.getElementById('chatbox');
  const chatDisplay = document.getElementById('chatDisplay');
  const chatInput = document.getElementById('chatInput');

  // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
  function showCalculator(name) {
    chatbox.classList.remove('active');
    calculator.classList.add('active');
    calcResult.textContent = "";
    calcForm.innerHTML = "";
    calcTitle.textContent = calculators[name].title;

    const fields = calculators[name].fields;
    fields.forEach(f => {
      let fieldHtml = "";
      if (f.type === "select") {
        fieldHtml = `<label for="${f.id}">${f.label}</label>
        <select id="${f.id}" required>
          ${f.options.map(o => `<option value="${o}">${o}</option>`).join('')}
        </select>`;
      } else {
        fieldHtml = `<label for="${f.id}">${f.label}</label>
        <input type="${f.type}" id="${f.id}" placeholder="${f.placeholder || ''}" ${f.min !== undefined ? 'min="'+f.min+'"' : ''} required />`;
      }
      calcForm.insertAdjacentHTML('beforeend', fieldHtml);
    });

    calcForm.insertAdjacentHTML('beforeend', `<button type="submit">Ø§Ø­Ø³Ø¨</button>`);

    calcForm.onsubmit = e => {
      e.preventDefault();
      let values = {};
      let valid = true;
      fields.forEach(f => {
        const val = document.getElementById(f.id).value;
        if(!val) valid = false;
        values[f.id] = val;
      });
      if(!valid) {
        calcResult.textContent = "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.";
        return;
      }
      const res = calculators[name].calculate(values);
      calcResult.textContent = res;
    };
  }

  // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø§Øª Ø§Ù„Ø°ÙƒÙŠ
  function showChat() {
    calculator.classList.remove('active');
    chatbox.classList.add('active');
    chatDisplay.innerHTML = "";
    addChatMessage("Ù…Ø±Ø­Ø¨Ù‹Ø§! Ø§ÙƒØªØ¨ Ù…Ø´ÙƒÙ„ØªÙƒ Ù‡Ù†Ø§ ÙˆØ³Ø£Ø³Ø§Ø¹Ø¯Ùƒ.", "bot");
    chatInput.value = "";
    chatInput.focus();
  }

  // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø´Ø§Øª
  function addChatMessage(text, sender) {
    const div = document.createElement('div');
    div.classList.add('chat-msg', sender);
    div.textContent = text;
    chatDisplay.appendChild(div);
    chatDisplay.scrollTop = chatDisplay.scrollHeight;
  }

  // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ© Ù„Ù„Ø´Ø§Øª (Ù†ÙØ³ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª Ù„ÙƒÙ† Ø¨ØµÙŠØºØ© ØªØ­Ù„ÙŠÙ„ ÙƒÙ„Ù…Ø§Øª ÙÙ‚Ø·)
  const knowledgeBaseForChat = {};
  for(let key in calculators) {
    knowledgeBaseForChat[key] = {
      keywords: calculators[key].fields.flatMap(f=>{
        if(f.type==="select") return f.options.map(o=>o.toLowerCase());
        return [f.label.toLowerCase()];
      }),
      questions: calculators[key].fields.map(f=>f.label),
      advice: calculators[key].calculate
    };
  }

  // Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø§Øª Ø§Ù„Ø°ÙƒÙŠ
  let chatDomain = null;
  let chatAnswers = [];
  let chatQuestionIndex = 0;

  function analyzeChatText(text) {
    text = text.toLowerCase();
    for(let domain in knowledgeBaseForChat) {
      for(let kw of knowledgeBaseForChat[domain].keywords) {
        if(text.includes(kw)) {
          chatDomain = knowledgeBaseForChat[domain];
          chatAnswers = [];
          chatQuestionIndex = 0;
          return `ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ùƒ ØªØªØ­Ø¯Ø« Ø¹Ù† Ù…ÙˆØ¶ÙˆØ¹ "${domain}". ${chatDomain.questions[0]}`;
        }
      }
    }
    return "Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø´ÙƒÙ„ØªÙƒ. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙˆØ¶ÙŠØ­ Ø£ÙƒØ«Ø± Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…Ø§Øª Ø£Ø®Ø±Ù‰ØŸ";
  }

  function handleChatAnswer(text) {
    chatAnswers.push(text.trim());
    chatQuestionIndex++;
    if(chatQuestionIndex < chatDomain.questions.length) {
      return chatDomain.questions[chatQuestionIndex];
    }
    const advice = chatDomain.advice(Object.fromEntries(chatDomain.questions.map((q,i)=>[chatDomain.questions[i], chatAnswers[i]])));
    chatDomain = null;
    return `Ù†ØµÙŠØ­ØªÙŠ Ù„Ùƒ:\n${advice}\n\nÙ‡Ù„ Ù„Ø¯ÙŠÙƒ Ù…Ø´ÙƒÙ„Ø© Ø£Ø®Ø±Ù‰ØŸ Ø§ÙƒØªØ¨Ù‡Ø§ Ù‡Ù†Ø§.`;
  }

  function sendChatMessage() {
    const val = chatInput.value.trim();
    if(!val) return;
    addChatMessage(val, "user");
    chatInput.value = "";
    setTimeout(() => {
      let reply;
      if(chatDomain === null) {
        reply = analyzeChatText(val);
      } else {
        reply = handleChatAnswer(val);
      }
      addChatMessage(reply, "bot");
    }, 300);
  }

  // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØµÙØ­Ø©
  showCalculator('Ù…Ø§Ù„ÙŠØ©');

</script>

</body>
</html>
