<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ - Ø­Ø§Ø³Ø¨Ø§Øª ÙˆØ´Ø§Øª</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 0;
    direction: rtl;
  }
  header {
    background: #009688;
    padding: 15px;
    font-size: 1.6rem;
    text-align: center;
    font-weight: bold;
  }
  #main {
    display: flex;
    flex-direction: column;
    height: calc(100vh - 60px);
  }
  @media (min-width: 768px) {
    #main {
      flex-direction: row;
    }
  }
  #sidebar {
    width: 100%;
    background: #222;
    padding: 15px;
    box-sizing: border-box;
    border-left: 3px solid #00bfa5;
  }
  @media (min-width: 768px) {
    #sidebar {
      width: 260px;
    }
  }
  #sidebar h2 {
    text-align: center;
    margin-bottom: 20px;
  }
  #sidebar button, #langSelect {
    width: 100%;
    margin: 10px 0;
    padding: 12px;
    font-weight: bold;
    font-size: 1.1rem;
    border: none;
    border-radius: 10px;
    background: #00bfa5;
    color: #000;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #sidebar button:hover {
    background: #008f7a;
  }
  #content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    background: #222;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
  }
  #calculator, #chatbox {
    flex: 1;
    display: none;
    flex-direction: column;
  }
  #calculator.active, #chatbox.active {
    display: flex;
  }
  #calcTitle {
    font-size: 1.4rem;
    font-weight: bold;
    margin-bottom: 15px;
    text-align: center;
  }
  #calcForm label {
    display: block;
    margin: 12px 0 6px;
  }
  #calcForm input, #calcForm select {
    width: 100%;
    padding: 8px;
    border-radius: 6px;
    border: none;
    font-size: 1rem;
    box-sizing: border-box;
  }
  #calcForm button {
    margin-top: 15px;
    padding: 12px;
    font-weight: bold;
    font-size: 1.1rem;
    border: none;
    border-radius: 10px;
    background: #00bfa5;
    color: #000;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #calcForm button:hover {
    background: #008f7a;
  }
  #calcResult {
    margin-top: 20px;
    background: #333;
    padding: 15px;
    border-radius: 10px;
    white-space: pre-line;
  }
  #chartContainer {
    margin-top: 20px;
  }
  canvas {
    background: #fff;
    border-radius: 10px;
  }
</style>
</head>
<body>
<header>ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ - Ø­Ø§Ø³Ø¨Ø§Øª ÙˆØ´Ø§Øª</header>
<div id="main">
  <nav id="sidebar">
    <h2>Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h2>
    <select id="langSelect" onchange="changeLanguage()">
      <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      <option value="en">ğŸ‡ºğŸ‡¸ English</option>
    </select>
    <button onclick="showCalculator('Ù…Ø§Ù„ÙŠØ©')">ğŸ’° Ø­Ø§Ø³Ø¨Ø© Ù…Ø§Ù„ÙŠØ©</button>
    <button onclick="showCalculator('ÙˆØ¸ÙŠÙØ©')">ğŸ’¼ Ø­Ø§Ø³Ø¨Ø© ÙˆØ¸ÙŠÙØ©</button>
    <button onclick="showCalculator('Ù…Ø´Ø§Ø±ÙŠØ¹')">ğŸ“ˆ Ø­Ø§Ø³Ø¨Ø© Ù…Ø´Ø§Ø±ÙŠØ¹</button>
    <button onclick="showCalculator('Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„')">ğŸ“Š Ø­Ø§Ø³Ø¨Ø© Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„</button>
    <button onclick="showCalculator('ØªÙˆÙÙŠØ±')">ğŸ’¡ Ø­Ø§Ø³Ø¨Ø© ØªÙˆÙÙŠØ±</button>
    <button onclick="showCalculator('Ø§Ø³ØªØ«Ù…Ø§Ø±')">ğŸ“‰ Ø­Ø§Ø³Ø¨Ø© Ø§Ø³ØªØ«Ù…Ø§Ø±</button>
    <button onclick="showChat()">ğŸ’¬ Ø´Ø§Øª Ø°ÙƒÙŠ</button>
  </nav>
  <section id="content">
    <div id="calculator">
      <div id="calcTitle"></div>
      <form id="calcForm"></form>
      <div id="calcResult"></div>
      <div id="chartContainer"><canvas id="financeChart"></canvas></div>
    </div>
    <div id="chatbox">
      <div id="chatDisplay" style="flex:1;overflow:auto;background:#111;padding:15px;border-radius:10px;margin-bottom:10px"></div>
      <div style="display:flex">
        <input type="text" id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ù…Ø´ÙƒÙ„ØªÙƒ Ù‡Ù†Ø§..." style="flex:1;padding:10px;border-radius:8px;background:#333;color:#eee;border:none" />
        <button onclick="sendChatMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
      </div>
    </div>
  </section>
</div>
<script>
let selectedLang = 'ar';
function changeLanguage() {
  selectedLang = document.getElementById('langSelect').value;
  alert('Ø³ÙŠØªÙ… Ø¯Ø¹Ù… Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡ ğŸŒ');
}
function showCalculator(type) {
  document.getElementById('calculator').classList.add('active');
  document.getElementById('chatbox').classList.remove('active');
  document.getElementById('calcForm').innerHTML = '';
  document.getElementById('calcResult').innerText = '';
  document.getElementById('financeChart').style.display = type === 'Ù…Ø§Ù„ÙŠØ©' ? 'block' : 'none';
  document.getElementById('calcTitle').innerText = type;
  if (type === 'Ù…Ø§Ù„ÙŠØ©') {
    const form = document.getElementById('calcForm');
    form.innerHTML = `
      <label>Ø§Ù„Ø¯Ø®Ù„</label><input id="income" type="number">
      <label>Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ</label><input id="expenses" type="number">
      <button type="button" onclick="calculateFinance()">Ø§Ø­Ø³Ø¨</button>
    `;
  }
}
function calculateFinance() {
  const income = parseFloat(document.getElementById('income').value);
  const expenses = parseFloat(document.getElementById('expenses').value);
  const savings = income - expenses;
  document.getElementById('calcResult').innerText = `Ø§Ù„Ø¯Ø®Ù„: ${income} - Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ: ${expenses} = ${savings}`;
  const ctx = document.getElementById('financeChart').getContext('2d');
  new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ', 'Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª'],
      datasets: [{
        data: [expenses, savings],
        backgroundColor: ['#e91e63', '#4caf50']
      }]
    },
    options: {responsive: true}
  });
  localStorage.setItem('lastResult', JSON.stringify({income, expenses}));
}
function showChat() {
  document.getElementById('calculator').classList.remove('active');
  document.getElementById('chatbox').classList.add('active');
  document.getElementById('chatDisplay').innerHTML = '<div>Ù…Ø±Ø­Ø¨Ù‹Ø§! Ø£Ø®Ø¨Ø±Ù†ÙŠ Ø¹Ù† Ù…Ø´ÙƒÙ„ØªÙƒ.</div>';
}
function sendChatMessage() {
  const input = document.getElementById('chatInput');
  const message = input.value.trim();
  if (!message) return;
  const reply = smartReply(message);
  const chatDisplay = document.getElementById('chatDisplay');
  chatDisplay.innerHTML += `<div class='chat-msg user'>${message}</div>`;
  chatDisplay.innerHTML += `<div class='chat-msg bot'>${reply}</div>`;
  input.value = '';
  chatDisplay.scrollTop = chatDisplay.scrollHeight;
}
function smartReply(msg) {
  msg = msg.toLowerCase();
  if (msg.includes('Ø³ÙŠØ§Ø±Ø©') && msg.includes('ÙÙ„ÙˆØ³')) return 'Ø£Ù†ØµØ­Ùƒ Ø¨ÙˆØ¶Ø¹ Ø®Ø·Ø© Ø§Ø¯Ø®Ø§Ø± ÙˆØªÙ‚Ø³ÙŠØ· ØªØªÙ…Ø§Ø´Ù‰ Ù…Ø¹ Ø¯Ø®Ù„Ùƒ.';
  if (msg.includes('Ø±Ø§ØªØ¨ÙŠ') && msg.includes('Ù…Ø§ ÙŠÙƒÙÙŠ')) return 'Ø­Ø§ÙˆÙ„ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØªØ¬Ù†Ø¨ Ø§Ù„ÙƒÙ…Ø§Ù„ÙŠØ§Øª.';
  if (msg.includes('Ù…Ø´Ø±ÙˆØ¹') && msg.includes('Ù…Ø§ Ø¹Ù†Ø¯ÙŠ Ø±Ø§Ø³ Ù…Ø§Ù„')) return 'Ø§Ø¨Ø¯Ø£ Ø¨Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø³ÙŠØ· Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø±Ø£Ø³ Ù…Ø§Ù„ ÙƒØ¨ÙŠØ± Ù…Ø«Ù„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©.';
  return 'ÙÙ‡Ù…Øª Ø³Ø¤Ø§Ù„Ùƒ. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙˆØ¶ÙŠØ­ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±ØŸ';
}
</script>
</body>
</html>
